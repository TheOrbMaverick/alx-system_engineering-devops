#!/usr/bin/env bash
# Bash script to configure Apache to return "Hello Holberton" on port 8080

# Install Apache if not already installed
if ! command -v apache2 &> /dev/null; then
    echo "Installing Apache..."
    sudo apt-get update
    sudo apt-get install -y apache2
fi

# Create a custom HTML page with "Hello Holberton" content
cat << EOF | sudo tee /var/www/html/index.html > /dev/null
<!DOCTYPE html>
<html>
<head>
    <title>Hello Holberton</title>
</head>
<body>
    <h1>Hello Holberton</h1>
</body>
</html>
EOF

# Configure Apache to serve the custom page on port 8080
cat << EOF | sudo tee /etc/apache2/sites-available/holberton.conf > /dev/null
<VirtualHost *:8080>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html

    ErrorLog \${APACHE_LOG_DIR}/error.log
    CustomLog \${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
EOF

# Enable the new configuration and restart Apache
sudo a2ensite holberton.conf
sudo systemctl restart apache2
