#!/usr/bin/env bash
# This script configures Nginx to use a custom 404 page.

# Define the custom error page configuration
error_page_config="\
server {
    listen 80 default_server;
    server_name _;
    root /var/www/html;
    index index.html;

    error_page 404 /404.html;
    location = /404.html {
        internal;
    }
}
"

# Backup the default Nginx configuration file
cp /etc/nginx/sites-available/default /etc/nginx/sites-available/default.bak

# Add the custom error page configuration to Nginx
echo "$error_page_config" > /etc/nginx/sites-available/default

# Test Nginx configuration for syntax errors
nginx -t

# Reload Nginx to apply the changes
service nginx reload

echo "Custom error page for 404 errors configured successfully!"
